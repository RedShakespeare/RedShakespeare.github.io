ut.DOMRenderer=function(t){"use strict";this.view=t,this.spans=new Array(t.h),this.colors=new Array(t.h);for(var e=0;e<t.h;++e){this.spans[e]=new Array(t.w),this.colors[e]=new Array(t.w);for(var r=0;r<t.w;++r)this.spans[e][r]=document.createElement("div"),t.elem.appendChild(this.spans[e][r]);this.spans[e].push(document.createElement("br")),t.elem.appendChild(this.spans[e][t.w])}ut.viewportStyleUpdaterHack=this,setTimeout((function(){ut.viewportStyleUpdaterHack.updateStyle()}),0)},ut.DOMRenderer.prototype.updateStyle=function(t){"use strict";if(t=window.getComputedStyle(this.spans[0][0],null),this.tw=parseInt(t.width,10),0!==this.tw&&!isNaN(this.tw)){this.th=parseInt(t.height,10),this.view.squarify&&(this.tw=this.th);for(var e=this.view.w,r=this.view.h,s=0;s<r;++s)for(var i=0;i<e;++i)this.spans[s][i].style.width=this.tw+"px"}},ut.DOMRenderer.prototype.clear=function(){"use strict";for(var t=0;t<this.view.h;++t)for(var e=0;e<this.view.w;++e)this.colors[t][e]=""},ut.DOMRenderer.prototype.render=function(){"use strict";for(var t=this.view.w,e=this.view.h,r=this.view.buffer,s=this.view.defaultColor,i=this.view.defaultBackground,o=0;o<e;++o)for(var h=0;h<t;++h){var a=r[o][h],n=this.spans[o][h],w=void 0===a.r?s:a.getColorRGB(),p=void 0===a.br?i:a.getBackgroundRGB(),u=w+p;u!==this.colors[o][h]&&(this.colors[o][h]=u,n.style.color=w,n.style.backgroundColor=p);var l=a.getChar();l!==n.innerHTML&&(n.innerHTML=l)}},ut.viewportStyleUpdaterHack=null;